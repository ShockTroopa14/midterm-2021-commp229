 <%- include('../partials/header.ejs'); %>
 <!DOCTYPE html>
 <html lang="en">
   <head>
     <title></title>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1">
     <link rel="stylesheet" href="/client/Content/app.css" />
   </head>
   <body id="bookList-body">
     <!-- MAIN CONTENT -->
        <div class="image-container">
          <div class="spiderMan-left" ></div>
            <div class="spiderMan-right"  ></div>
          </div>
    <div class="container" id="backgorund-container">
      <div class="row">
        <div class="col-md-offset-1 col-md-10" id="col-container">

        
          <!-- ------------------------ -->
          <!-- FIX THE ADD BUTTON BELOW -->
          <!-- ------------------------ -->
          <br>
          <div class="table-responsive" id="table-container">
                   <a href="/books/add" class="btn btn-primary" id="add-book"><i class="fa fa-plus"></i> Add a book</a>
            <table class="table table-bordered table-striped" id="table">
              <thead>
                <tr>
                  <th>Title</th>
                  <th class="text-center">Price</th>
                  <th class="text-center">Author</th>
                  <th class="text-center">Genre</th>
                  <th class="text-center">Description</th>
                  <th class="text-center">Edit</th>
                  <th class="text-center">Delete</th>
                </tr>
                </thead>
                <tbody>
                <!-- Template Row -->
                <% for (let count = 0; count < books.length; count++) { %>
                
                <tr>
                  <td><%= books[count].Title %></td>
                  <td class="text-center">$<%= books[count].Price %></td>
                  <td class="text-center"><%= books[count].Author %></td>
                  <td class="text-center"><%= books[count].Genre %></td>
                  <td class="text-center"><%= books[count].Description %></td>
                    <!-- -------------------------->
                    <!-- ADD the EDIT BUTTON HERE -->
                    <!-- --------------------------> 
                      <td class="text-center"><a href="/books/edit/<%= books[count]._id %>" class="btn btn-primary btn-sm edit"> Edit</a></td>
                    <!-- ------------------------ -->
                    <!-- ADD the DELETE BUTTON HERE -->
                    <!-- ------------------------ -->
                    <td class="text-center"><button type="button" class="delete-btn" data-toggle="modal" data-target="#DeleteContactModal" onclick="document.getElementById('id01').style.display='block'" id=<%= books[count]._id %> >Delete Contact</button></td>

           
                </tr>


                 <!-- Delete PopUp Modal -->
                
                                   <div class="modal fade" id="DeleteContactModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                     <div class="modal-dialog" role="document" id="DeleteContactModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                         <div class="modal-content" >
                                           <div class="modal-header">
                                           <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                           <span aria-hidden="true">&times;</span>
                                         </button>
                                           Are you sure you want to Delete this book from your favourite books list?
                                      </div>
                                      <div class="modal-footer">
                                        <a href="/books/delete/<%= books[count]._id %>" > Delete</a>
                                           <a href="/books" class="btn btn-warning"><i class="fa fa-undo"></i> Cancel</a>
                                       </div>
                                     </div>

                               

                <% } %>
              </tbody>
            </table>
          </div>
           <div class="col-md-offset-1 col-md-10 text-center">
            <ul class="pagination pagination-lg pager" id="myPager"></ul>
          </div>
        </div>
      </div>
    </div>
   </body>
 </html>
 <%- include('../partials/footer.ejs'); %>
 
  

<%- include('../partials/footer.ejs'); %>


